<!DOCTYPE HTML>
<html>
<head>
<title>«Community`s Shared Scripts» SQF-Library - /css/lib/vectors.sqf</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style>
  html {
    font-family: Helvetica, Arial, sans-serif;
  }
  body {
    margin: auto;
    width: 50em;
  }
  * {
    cursor: default;
  }
  pre {
    padding: 1em 0;
  }
  pre.code,
  pre.code b,
  pre.code i,
  pre.code s,
  pre.code u,
  pre.code tt,
  pre.code em,
  pre.code var {
    text-decoration: none;
    font: normal normal 14px/150% "Consolas", monospace;
  }
  pre.code b  { color: #009; }
  pre.code i  { color: #080; }
  pre.code s  { color: #BBB; font-style: italic; }
  pre.code u  { color: #0A0; }
  pre.code tt { color: #994; }
  pre.code em { color: #A00; }
  pre.code var { color: #5E5E5E; }

  hr {
    margin: 1em 0 .1em 0;
    border: 1px dashed #EEE;
  }
  #unfoldcode:hover {
    cursor: hand;
    color: red
  }
  h2, h3, h4 {
    margin: .5em 0;
  }
  h2 {
    margin: 0;
    padding: .2em .1em;
    background: #EEE;
  }
</style>
</head>
<body>
<h1>/css/lib/vectors.sqf</h1>
<p><small><i>This documentation was generated automatically from the source code.</i></small></p>
<pre class="code">
<hr /><h2>Function func(VectorAdd)</h2>
<strong>Syntax:
</strong>    [vector v1, vector v2] invoke(VectorAdd)

Returns the sum of the vectors v1 and v2.
<strong>Note:</strong> vector typeâ€”is a vector3D, array of three number.
Return value: Vector<hr /><h2>Function func(VectorSubstract)</h2>
<strong>Syntax:
</strong>    [vector v1, vector v2] invoke(VectorSubstract)

Subtracts two vectors (v1-v2) and returns the difference.
<strong>Note:</strong> vector typeâ€”is a 3D vector, array of three number.
Return value: vector<hr /><h2>Function func(VectorMagnitude)</h2>
<strong>Syntax:
</strong>    (vector v) invoke(VectorMagnitude)

Returns the magnitude (vector length) of a given 3D vector.
Return value: scalar<hr /><h2>Function func(VectorNormalize)</h2>
<strong>Syntax:
</strong>    [] invoke(VectorNormalize)

Returns the normalized version of a vector (each entry of the vector
divided by its magnitude). A normalized vector has a magnitude of 1.
Return value: vector<hr /><h2>Function func(VectorTo)</h2>
<strong>Syntax:
</strong>    [vector v, vector p] invoke(VectorTo)

Returns the vector v from this point to the given point p.
Return value: vector<hr /><h2>Function func(VectorProduct)</h2>
<strong>Syntax:
</strong>    [vector v1, vector v2] invoke(VectorProduct)
    [scalar s, vector v] invoke(VectorProduct)

Returns vector product of two vectors.
Return value: vector<hr /><h2>Function func(VectorScalarProduct)</h2>
<strong>Syntax:
</strong>    [vector v1, vector v2] invoke(VectorScalarProduct)

Returns the vector resulting from scalar multiplication.
Return value: scalar<hr /><h2>Function func(VectorAngle)</h2>
<strong>Syntax:
</strong>    (vector v) invoke(VectorAngle)
    [vector v1, vector v2] invoke(VectorAngle)

When one argument: returns angle between Ox axis and vector direction, in Counter
clockwise orientation. The result is normalised between 0 and 2*PI.
When two arguments: Returns the angle from vector V1 to vector V2,
in counter-clockwise order, and in degrees.

Return value: scalar, angle in degrees<hr /><h2>Function func(VectorSide)</h2>
<strong>Syntax:
</strong>    [number vectorDir, number vectorUp] invoke(VectorSide)
    (object vehicle) invoke(VectorSide)
When two arguments: calculates vector side from given vectorDir and vectorUp and returns it.
When one argument: calculates vector side of object and returns it.
Return value: vector<hr />
<a
  href="#unfoldcode"
  id="unfoldcode"
  onclick="
    var el = document.getElementById('sqfsrc');
    el.style.display = el.style.display == '' ? 'none' : ''
  "
>Source of &ldquo;css/lib/vectors.sqf&rdquo;</a>
<div style='display: none' id='sqfsrc'>
<h2>&ldquo;css/lib/vectors.sqf&rdquo;</h2>


<s>// SQF
//
// sqf-library "\css\lib\vectors.sqf"
// Copyright (c) 2009-2012 Denis Usenko (DenVdmj)
// MIT-style license
//</s>

<em>#include "\css\css"</em>
<em>#define</em><em> __PATH__</em> \css\lib

<s>//
// Function func(VectorAdd)
// Syntax:
//     [vector v1, vector v2] invoke(VectorAdd)
//
// Returns the sum of the vectors v1 and v2.
// Note: vector type—is a vector3D, array of three number.
// Return value: Vector
//</s>

<var>func(VectorAdd)</var> <b>= {
    private [</b><i>"_v"</i><b>,</b> <i>"_u"</i><b>];</b>
    <var>_v</var> <b>= arg(</b>0<b>);</b>
    <var>_u</var> <b>= arg(</b>1<b>);
    [
        x(</b><var>_v</var><b>)</b> + <b>x(</b><var>_u</var><b>),
        y(</b><var>_v</var><b>)</b> + <b>y(</b><var>_u</var><b>),
        z(</b><var>_v</var><b>)</b> + <b>z(</b><var>_u</var><b>)
    ]
};</b>

<s>//
// Function func(VectorSubstract)
// Syntax:
//     [vector v1, vector v2] invoke(VectorSubstract)
//
// Subtracts two vectors (v1-v2) and returns the difference.
// Note: vector type—is a 3D vector, array of three number.
// Return value: vector
//</s>

<var>func(VectorSubstract)</var> <b>= {
    private [</b><i>"_v"</i><b>,</b> <i>"_u"</i><b>];</b>
    <var>_v</var> <b>= arg(</b>0<b>);</b>
    <var>_u</var> <b>= arg(</b>1<b>);
    [
        x(</b><var>_v</var><b>)</b> - <b>x(</b><var>_u</var><b>),
        y(</b><var>_v</var><b>)</b> - <b>y(</b><var>_u</var><b>),
        z(</b><var>_v</var><b>)</b> - <b>z(</b><var>_u</var><b>)
    ]
};</b>

<s>//
// Function func(VectorMagnitude)
// Syntax:
//     (vector v) invoke(VectorMagnitude)
//
// Returns the magnitude (vector length) of a given 3D vector.
// Return value: scalar
//</s>

<var>func(VectorMagnitude)</var> <b>= {</b>
    <var>_this</var> <em>distance</em> <b>[</b>0<b>,</b> 0<b>,</b> 0<b>]
};</b>

<s>//
// Function func(VectorNormalize)
// Syntax:
//     [] invoke(VectorNormalize)
//
// Returns the normalized version of a vector (each entry of the vector
// divided by its magnitude). A normalized vector has a magnitude of 1.
// Return value: vector
//</s>

<var>func(VectorNormalize)</var> <b>= {
    private</b> <i>"_f"</i><b>;</b>
    <var>_f</var> <b>=</b> <var>_this</var> <b>invoke(</b>VectorMagnitude<b>);
    if (</b><var>_f</var> <b>==</b> 0<b>) exitwith { [</b>0<b>,</b> 0<b>,</b> 0<b>] };</b>
    <var>_f</var> <b>=</b> 1 / <var>_f</var><b>;
    [</b>
        <var>_f</var> * <b>x(</b><var>_this</var><b>),</b>
        <var>_f</var> * <b>y(</b><var>_this</var><b>),</b>
        <var>_f</var> * <b>z(</b><var>_this</var><b>)
    ]
};</b>

<s>//
// Function func(VectorTo)
// Syntax:
//     [vector v, vector p] invoke(VectorTo)
//
// Returns the vector v from this point to the given point p.
// Return value: vector
//</s>

<var>func(VectorTo)</var> <b>= {
    [arg(</b>1<b>), arg(</b>0<b>)] invoke(</b>VectorSubstract<b>)
};</b>

<s>//
// Function func(VectorProduct)
// Syntax:
//     [vector v1, vector v2] invoke(VectorProduct)
//     [scalar s, vector v] invoke(VectorProduct)
//
// Returns vector product of two vectors.
// Return value: vector
//</s>

<var>func(VectorProduct)</var> <b>= {
    private [</b><i>"_v"</i><b>,</b> <i>"_u"</i><b>];</b>
    <var>_v</var> <b>= arg(</b>0<b>);</b>
    <var>_u</var> <b>= arg(</b>1<b>);
    if (</b><tt>__isArray</tt><b>(</b><var>_u</var><b>)) then {
        [
            y(</b><var>_v</var><b>)</b> * <b>z(</b><var>_u</var><b>)</b> - <b>z(</b><var>_v</var><b>)</b> * <b>y(</b><var>_u</var><b>),
            z(</b><var>_v</var><b>)</b> * <b>x(</b><var>_u</var><b>)</b> - <b>x(</b><var>_v</var><b>)</b> * <b>z(</b><var>_u</var><b>),
            x(</b><var>_v</var><b>)</b> * <b>y(</b><var>_u</var><b>)</b> - <b>y(</b><var>_v</var><b>)</b> * <b>x(</b><var>_u</var><b>)
        ]
    } else {
        [</b>
            <var>_u</var> * <b>x(</b><var>_v</var><b>),</b>
            <var>_u</var> * <b>y(</b><var>_v</var><b>),</b>
            <var>_u</var> * <b>z(</b><var>_v</var><b>)
        ]
    }
};</b>

<s>//
// Function func(VectorScalarProduct)
// Syntax:
//     [vector v1, vector v2] invoke(VectorScalarProduct)
//
// Returns the vector resulting from scalar multiplication.
// Return value: scalar
//</s>

<var>func(VectorScalarProduct)</var> <b>= {
    private [</b><i>"_v"</i><b>,</b> <i>"_u"</i><b>];</b>
    <var>_v</var> <b>= arg(</b>0<b>);</b>
    <var>_u</var> <b>= arg(</b>1<b>);
    x(</b><var>_v</var><b>)</b> * <b>x(</b><var>_u</var><b>)</b> + <b>y(</b><var>_v</var><b>)</b> * <b>y(</b><var>_u</var><b>)</b> + <b>z(</b><var>_v</var><b>)</b> * <b>z(</b><var>_u</var><b>)
};</b>

<s>//
// Function func(VectorAngle)
// Syntax:
//     (vector v) invoke(VectorAngle)
//     [vector v1, vector v2] invoke(VectorAngle)
//
// When one argument: returns angle between Ox axis and vector direction, in Counter
// clockwise orientation. The result is normalised between 0 and 2*PI.
// When two arguments: Returns the angle from vector V1 to vector V2,
// in counter-clockwise order, and in degrees.
//
// Return value: scalar, angle in degrees
//</s>

<var>func(VectorAngle)</var> <b>= {
    private [</b><i>"_v"</i><b>,</b> <i>"_u"</i><b>];</b>
    <var>_v</var> <b>= arg(</b>0<b>);</b>
    <var>_u</var> <b>=</b> argIfExist<b>(</b>1<b>) else { [x(</b><var>_v</var><b>), y(</b><var>_v</var><b>),</b> 0<b>] };</b>
    <em>acos</em><b>(([</b><var>_v</var><b>,</b> <var>_u</var><b>] invoke(</b>VectorScalarProduct<b>))</b> / <b>(</b><var>_v</var> <b>invoke(</b>VectorMagnitude<b>)</b> * <var>_u</var> <b>invoke(</b>VectorMagnitude<b>)))
};</b>

<s>//
// Function func(VectorSide)
// Syntax:
//     [number vectorDir, number vectorUp] invoke(VectorSide)
//     (object vehicle) invoke(VectorSide)
// When two arguments: calculates vector side from given vectorDir and vectorUp and returns it.
// When one argument: calculates vector side of object and returns it.
// Return value: vector
//</s>

<var>func(VectorSide)</var> <b>= {
    (
        (
            if (</b><tt>__isObject</tt><b>(arg(</b>0<b>))) then {
                [</b><em>vectorDir</em> <var>_this</var><b>,</b> <em>vectorUp</em> <var>_this</var><b>]
            } else {</b>
                <var>_this</var>
            <b>}
        ) invoke(</b>VectorProduct<b>)
    ) invoke(</b>VectorNormalize<b>)
};</b>

<s>/*
func(VectorSide) = {
    if (__isObject(arg(0))) then {
        (
            [vectorDir _this, vectorUp _this] invoke(VectorProduct)
        ) invoke(VectorNormalize)
    } else {
        (
            [arg(0), arg(1)] invoke(VectorProduct)
        ) invoke(VectorNormalize)
    }
};
*/</s>


<hr />
</pre>
<p><small><i>This documentation was generated automatically from the source code.</i></small></p>
</body>
</html>
